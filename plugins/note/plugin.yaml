name: notes manager
version: "1.0.0"
framework_version: ">=1.0,<2.0"
execution_mode: sandboxed
description: "Plugin de gestion de notes — création, lecture, suppression, recherche"
author: "Exemple"
entry_point: "src/main.py"

allowed_imports:
  - pathlib
  - datetime
  - uuid
  - rich

# ── Limites de ressources ──────────────────────────────────
resources:
  timeout_seconds: 10        # temps max par appel handle() — lève IPCTimeoutError
  max_memory_mb: 128         # RAM max du subprocess (0 = illimité)
  max_disk_mb: 50            # quota total du répertoire data/ (0 = illimité)
  rate_limit:
    calls: 100               # appels max autorisés
    period_seconds: 60       # par fenêtre glissante de 60 secondes

# ── Configuration runtime ──────────────────────────────────
runtime:
  log_level: "INFO"          # DEBUG | INFO | WARNING | ERROR

  health_check:
    enabled: true
    interval_seconds: 30     # ping automatique toutes les 30s
    timeout_seconds: 3       # délai max pour la réponse au ping

  retry:
    max_attempts: 3          # nombre de tentatives sur erreur IPC
    backoff_seconds: 0.5     # délai initial (doublé à chaque retry)

# ── Variables d'environnement injectées dans le subprocess ─
envconfiguration:
  envfile: ".env"
  inject: "true"

# ── Variables d'environnement injectées dans le processus principal ─

env:
  #posibilite d'utilise des fichiers .env
  NOTES_DEBUG: "false"
  # Pour injecter depuis l'environnement système :
  MY_API_KEY: "${MY_API_KEY}"   #← lève une erreur si absente

# ── Permissions filesystem ─────────────────────────────────
filesystem:
  allowed_paths:
    - "data/"                # seul répertoire où le plugin peut écrire
  denied_paths:
    - "src/"                 # protection du code source